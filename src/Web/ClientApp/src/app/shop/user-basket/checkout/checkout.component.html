<ng-container *ngIf="!successOrder; else success">
  <div fxLayout="row" fxLayoutAlign="start center"
       style="padding:8px 16px;background:#f5f5f5">

    <ol class="breadcrumb m-0 sequence" fxFlex="grow" style="background: none;font-size:12px">
      <li class="breadcrumb-item">
        <span class="mb-0" style="font-weight: 500;font-size: 13px;color:#676c71">
          <a [routerLink]="['/basket']">{{'Моя корзина' | uppercase}}</a>
        </span>
      </li>
      <li class="breadcrumb-item">
        <span class="mb-0" style="font-weight: 500;font-size: 13px;color:#676c71">
          {{'Купить' | uppercase}}
        </span>
      </li>
    </ol>

  </div>
  <div class="p-4">
    <app-overlay-loader [isLoading]="isLoading"
                        [overlayStyles]="{'background': 'rgb(255,255,255,0.7)', 'justify-content': 'baseline'}">
      <div class="p-4" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="32px">

        <form [formGroup]="buyerFormGroup" fxFlex="grow">
          <h5 class="group-header">Ваши данные</h5>
          <div class="py-4" fxLayout="column" fxLayoutAlign="space-between stretch" fxLayoutGap="32px">
            <mat-form-field fxFlex="grow">
              <mat-label>Фамилия</mat-label>
              <input [formControlName]="'lastName'" matInput placeholder="Фамилия">
            </mat-form-field>
            <mat-form-field fxFlex="grow">
              <mat-label>Имя</mat-label>
              <input [formControlName]="'firstName'" matInput placeholder="Имя" required>
            </mat-form-field>
            <mat-form-field fxFlex="grow">
              <mat-label>Отчество</mat-label>
              <input [formControlName]="'surName'" matInput placeholder="Отчество">
            </mat-form-field>
            <mat-form-field fxFlex="grow">
              <mat-label>Телефон</mat-label>
              <input [formControlName]="'phoneNumber'" matInput placeholder="Телефон" required>
            </mat-form-field>
            <mat-form-field fxFlex="grow">
              <mat-label>Email</mat-label>
              <input [formControlName]="'email'" matInput placeholder="Email">
            </mat-form-field>
          </div>

        </form>

        <mat-divider [vertical]="false" fxFlex="none" fxHide fxShow.lt-md></mat-divider>

        <div fxFlex="grow" fxLayout="column" fxLayoutGap="32px">
          <form [formGroup]="addressFormGroup">
            <h5 class="group-header">Адрес доставки</h5>
            <div class="py-4" fxLayout="column" fxLayoutAlign="space-between stretch" fxLayoutGap="32px">
              <mat-form-field fxFlex="grow">
                <mat-label>Страна</mat-label>
                <input [formControlName]="'country'" matInput placeholder="Страна" required>
              </mat-form-field>
              <mat-form-field fxFlex="grow">
                <mat-label>Город, улица, квартира</mat-label>
                <input [formControlName]="'address'" matInput placeholder="Город, улица, квартира" required>
              </mat-form-field>
              <mat-form-field fxFlex="grow">
                <mat-label>Почтовый индекс</mat-label>
                <input [formControlName]="'postCode'" matInput placeholder="Почтовый индекс">
              </mat-form-field>
            </div>
          </form>
          <mat-form-field appearance="fill">
            <mat-label>Комментарий к заказу</mat-label>
            <textarea [formControl]="commentFormControl" matInput></textarea>
          </mat-form-field>
        </div>
      </div>
    </app-overlay-loader>
    <div fxLayout="row" fxLayoutAlign="end center">
      <button (click)="orderClick()" mat-button>Заказать</button>
    </div>
  </div>
</ng-container>

<ng-template #success>
  <div fxLayout="row" fxLayoutAlign="center center" style="height: 320px">
    <mat-icon [inline]="true" class="done-icon">
      done
    </mat-icon>
    <span class="done-text">Успех!</span>
  </div>
</ng-template>
